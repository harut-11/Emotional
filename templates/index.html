<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>感情アーカイブ - 感情周期グラフ</title>
    <link rel="stylesheet" href="static\style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>感情周期グラフ</h1>
        
        <div id="emotionPredictionContainer" class="emotion-prediction">
            <div id="predictionResult">
                <p class="auth-message">過去の感情の推移を可視化。未来の「感情の天気予報」を分析しています...</p>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tabButton" data-target="post-history">投稿</button>
            <button class="tabButton active" data-target="analysis-chart">分析</button>
        </div>
        <div class="tab-content-container">
            <div id="analysis-chart" class="tab-content active">
                <div class="chart-container">
                    <canvas id="emotionChart"></canvas>
                </div>
                
                <div class="data-input">
                    <h2>新しい感情の記録</h2>
                    
                    <div class="twitter-auth-section">
                        <p id="twitterAuthStatusMessage" class="auth-message">
                            Twitterアカウントを連携すると、記録と同時に自動投稿されます。
                        </p>
                        <button type="button" id="twitterAuthButton" onclick="location.href='/auth/twitter';">
                            Twitterアカウントを連携する
                        </button>
                    </div>
                    <form id="emotionForm" class="record-form">
                        <textarea id="textContent" placeholder="今日の出来事や気分をテキストで記録（例：今日は寝坊した）" rows="4"></textarea>
                        
                        <div class="file-input-group">
                            <label for="fileInput">写真を添付</label>
                            <input type="file" id="fileInput" name="file" accept="image/*">
                        </div>

                        <button type="submit" id="submitButton">感情を分析して記録する</button>
                    </form>
                    
                    <div id="messageArea" class="message-area"></div>
                </div>
            </div>

            <div id="post-history" class="tab-content">
                <h2>投稿履歴</h2>
                <p id="noHistoryMessage" style="text-align: center; color: #7f8c8d; padding: 20px; display: none;">まだ投稿がありません。</p>
                <ul id="historyList" class="emotion-history-list">
                    </ul>
            </div>
        </div>
        </div>

    <script src="static\script.js"></script>
</body>
</html>
